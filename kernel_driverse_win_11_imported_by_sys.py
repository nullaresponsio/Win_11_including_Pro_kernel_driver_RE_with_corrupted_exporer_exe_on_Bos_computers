from pathlib import Path
kernel_drivers = sorted(f.name for f in Path(r'C:\Windows\System32\drivers').glob('*.sys'))
print(kernel_drivers)


win_11_kernels = ['1394ohci.sys', '3ware.sys', 'AcpiDev.sys', 'Acx01000.sys', 'AppVStrm.sys', 'AppleSSD.sys', 'AppvVemgr.sys', 'AppvVfs.sys', 'AsIO3.sys', 'BTHUSB.SYS', 'BtaMPM.sys', 'BthA2dp.sys', 'BthHfEnum.sys', 'BthMini.SYS', 'CAD.sys', 'CEA.sys', 'Classpnp.sys', 'ClipSp.sys', 'CmBatt.sys', 'Diskdump.sys', 'Dmpusbstor.sys', 'Dumpata.sys', 'Dumpstorport.sys', 'EhStorClass.sys', 'EhStorTcgDrv.sys', 'ExecutionContext.sys', 'FWPKCLNT.SYS', 'HdAudio.sys', 'HidSpiCx.sys', 'HpSAMD.sys', 'Hsp.sys', 'HyperVideo.sys', 'IPMIDrv.sys', 'IndirectKmd.sys', 'IntelPMT.sys', 'ItSas35i.sys', 'KNetPwrDepBroker.sys', 'Kerb3961Kernel.sys', 'MTConfig.sys', 'MbbCx.sys', 'MegaSas2i.sys', 'Microsoft.Bluetooth.AvrcpTransport.sys', 'Microsoft.Bluetooth.Legacy.LEEnumerator.sys', 'NDKPerf.sys', 'NDKPing.sys', 'NdisImPlatform.sys', 'NdisVirtualBus.sys', 'Ndu.sys', 'PEAuth.sys', 'PktMon.sys', 'PktMonApi.sys', 'ProcLaunchMon.sys', 'RNDISMP.sys', 'RTKVHD64.sys', 'RoutePolicy.sys', 'RtsPer.sys', 'SerCx.sys', 'SerCx2.sys', 'SmartSAMD.sys', 'SpbCx.sys', 'TsUsbFlt.sys', 'TsUsbGD.sys', 'UCPD.sys', 'USBAUDIO.sys', 'USBCAMD2.sys', 'USBHUB3.SYS', 'USBSTOR.SYS', 'USBXHCI.SYS', 'UcmCx.sys', 'UcmTcpciCx.sys', 'UcmUcsiAcpiClient.sys', 'UcmUcsiCx.sys', 'Ucx01000.sys', 'Udecx.sys', 'UevAgentDriver.sys', 'UnionFS.sys', 'UsbPmApi.sys', 'VMBusHID.sys', 'VSTXRAID.SYS', 'VerifierExt.sys', 'Vid.sys', 'VmsProxy.sys', 'VmsProxyHNic.sys', 'WUDFPf.sys', 'WUDFRd.sys', 'WdBoot.sys', 'WdDevFlt.sys', 'WdFilter.sys', 'WdNisDrv.sys', 'Wdf01000.sys', 'WdfLdr.sys', 'WdiWiFi.sys', 'WdmCompanionFilter.sys', 'WifiCx.sys', 'WinAccel.sys', 'WinAccelCx.sys', 'WinSetupBoot.sys', 'WindowsTrustedRT.sys', 'WindowsTrustedRTProxy.sys', 'WpdUpFltr.sys', 'WppRecorder.sys', 'acpi.sys', 'acpiex.sys', 'acpitime.sys', 'adp80xx.sys', 'aehd.sys', 'afd.sys', 'afunix.sys', 'agilevpn.sys', 'ahcache.sys', 'amdgpio2.sys', 'amdi2c.sys', 'amdk8.sys', 'amdppm.sys', 'amdsata.sys', 'amdsbs.sys', 'amdwps.sys', 'amdxata.sys', 'appid.sys', 'applockerfltr.sys', 'arcsas.sys', 'asyncmac.sys', 'atapi.sys', 'ataport.sys', 'bam.sys', 'battc.sys', 'bcmfn2.sys', 'beep.sys', 'bfs.sys', 'bindflt.sys', 'bowser.sys', 'bridge.sys', 'bthenum.sys', 'bthmodem.sys', 'bthpan.sys', 'bthport.sys', 'bttflt.sys', 'buttonconverter.sys', 'bxvbda.sys', 'cdfs.sys', 'cdrom.sys', 'cht4dx64.sys', 'cht4sx64.sys', 'cht4vfx.sys', 'cht4vx64.sys', 'cimfs.sys', 'circlass.sys', 'cldflt.sys', 'clfs.sys', 'cmimcext.sys', 'cng.sys', 'cnghwassist.sys', 'condrv.sys', 'crashdmp.sys', 'csc.sys', 'dam.sys', 'dbx-canary.sys', 'dbx-dev.sys', 'dbx-stable.sys', 'dbx.sys', 'devauthe.sys', 'dfsc.sys', 'disk.sys', 'dmvsc.sys', 'drmk.sys', 'drmkaud.sys', 'dumpfve.sys', 'dumpsd.sys', 'dumpsdport.sys', 'dxgkrnl.sys', 'dxgmms1.sys', 'dxgmms2.sys', 'errdev.sys', 'evbd0a.sys', 'evbda.sys', 'exfat.sys', 'fastfat.sys', 'fdc.sys', 'filecrypt.sys', 'fileinfo.sys', 'filetrace.sys', 'flpydisk.sys', 'fltMgr.sys', 'fs_rec.sys', 'fsdepends.sys', 'fse.sys', 'fvevol.sys', 'globmerger.sys', 'hdaudbus.sys', 'hidbatt.sys', 'hidbth.sys', 'hidclass.sys', 'hidi2c.sys', 'hidinterrupt.sys', 'hidir.sys', 'hidparse.sys', 'hidspi.sys', 'hidusb.sys', 'hnswfpdriver.sys', 'hsstap.sys', 'http.sys', 'hvcrash.sys', 'hvservice.sys', 'hvsocket.sys', 'hvsocketcontrol.sys', 'hwpolicy.sys', 'hyperkbd.sys', 'i8042prt.sys', 'iaLPSS2i_GPIO2.sys', 'iaLPSS2i_GPIO2_BXT_P.sys', 'iaLPSS2i_GPIO2_CNL.sys', 'iaLPSS2i_GPIO2_GLK.sys', 'iaLPSS2i_I2C.sys', 'iaLPSS2i_I2C_BXT_P.sys', 'iaLPSS2i_I2C_CNL.sys', 'iaLPSS2i_I2C_GLK.sys', 'iaLPSSi_GPIO.sys', 'iaLPSSi_I2C.sys', 'iaStorAVC.sys', 'iaStorV.sys', 'iaStorVD.sys', 'iagpio.sys', 'iai2c.sys', 'ibbus.sys', 'intelide.sys', 'intelpep.sys', 'intelpmax.sys', 'intelppm.sys', 'iorate.sys', 'ipfltdrv.sys', 'ipnat.sys', 'ipt.sys', 'isapnp.sys', 'kbdclass.sys', 'kbdhid.sys', 'kbldfltr.sys', 'kdnic.sys', 'kdnic_legacy.sys', 'kmpdc.sys', 'ks.sys', 'ksecdd.sys', 'ksecpkg.sys', 'ksthunk.sys', 'l1vhlwf.sys', 'l2bridge.sys', 'lltdio.sys', 'logi_joy_bus_enum.sys', 'logi_joy_vir_hid.sys', 'logi_joy_xlcore.sys', 'lsi_sas.sys', 'lsi_sas2i.sys', 'lsi_sas3i.sys', 'luafv.sys', 'mausbhost.sys', 'mausbip.sys', 'mcd.sys', 'megasas35i.sys', 'megasr.sys', 'mlx4_bus.sys', 'mmcss.sys', 'modem.sys', 'monitor.sys', 'mouclass.sys', 'mouhid.sys', 'mountmgr.sys', 'mpi3drvi.sys', 'mpsdrv.sys', 'mrxdav.sys', 'mrxsmb.sys', 'mrxsmb20.sys', 'msfs.sys', 'msgpioclx.sys', 'msgpiowin32.sys', 'mshidkmdf.sys', 'mshidumdf.sys', 'mshwnclx.sys', 'msisadrv.sys', 'msiscsi.sys', 'mskssrv.sys', 'mslldp.sys', 'mspclock.sys', 'mspqm.sys', 'msquic.sys', 'msquicprev.sys', 'msrpc.sys', 'msseccore.sys', 'mssecflt.sys', 'mssecwfp.sys', 'mssmbios.sys', 'mstee.sys', 'mup.sys', 'mvumis.sys', 'ndfltr.sys', 'ndis.sys', 'ndiscap.sys', 'ndistapi.sys', 'ndisuio.sys', 'ndiswan.sys', 'ndproxy.sys', 'netadaptercx.sys', 'netbios.sys', 'netbt.sys', 'netio.sys', 'netvsc.sys', 'npfs.sys', 'npsvctrig.sys', 'nsiproxy.sys', 'ntfs.sys', 'ntosext.sys', 'null.sys', 'nvdimm.sys', 'nvhda64v.sys', 'nvmedisk.sys', 'nvpcf.sys', 'nvraid.sys', 'nvstor.sys', 'nvvad64v.sys', 'nvvhci.sys', 'nwifi.sys', 'p9rdr.sys', 'pacer.sys', 'pango_netfilter2.sys', 'parport.sys', 'partmgr.sys', 'passthruparser.sys', 'pci.sys', 'pciide.sys', 'pciidex.sys', 'pcmcia.sys', 'pcw.sys', 'pdc.sys', 'percsas2i.sys', 'percsas3i.sys', 'pmem.sys', 'pnpmem.sys', 'portcfg.sys', 'portcls.sys', 'processr.sys', 'pvhdparser.sys', 'pvscsii.sys', 'qwavedrv.sys', 'ramdisk.sys', 'rasacd.sys', 'rasl2tp.sys', 'raspppoe.sys', 'raspptp.sys', 'rassstp.sys', 'rdbss.sys', 'rdpbus.sys', 'rdpdr.sys', 'rdyboost.sys', 'refs.sys', 'refsv1.sys', 'rfcomm.sys', 'rhproxy.sys', 'rmcast.sys', 'rootmdm.sys', 'rspndr.sys', 'rteth.sys', 'sbp2port.sys', 'scfilter.sys', 'scmbus.sys', 'scsiport.sys', 'sdbus.sys', 'sdport.sys', 'sdstor.sys', 'serenum.sys', 'serial.sys', 'sermouse.sys', 'sfloppy.sys', 'sisraid2.sys', 'sisraid4.sys', 'smbdirect.sys', 'smclib.sys', 'spacedump.sys', 'spaceparser.sys', 'spaceport.sys', 'srv2.sys', 'srvnet.sys', 'ss_conn_usb_driver2.sys', 'ssudbus2.sys', 'ssudmdm.sys', 'stexstor.sys', 'storahci.sys', 'stornvme.sys', 'storport.sys', 'storqosflt.sys', 'storufs.sys', 'storvsc.sys', 'storvsp.sys', 'stream.sys', 'tap0901.sys', 'tape.sys', 'tbs.sys', 'tcpip.sys', 'tcpipreg.sys', 'tdi.sys', 'tdx.sys', 'terminpt.sys', 'tm.sys', 'tpm.sys', 'tsusbhub.sys', 'tunnel.sys', 'uaspstor.sys', 'udfs.sys', 'ufx01000.sys', 'ufxsynopsys.sys', 'urscx01000.sys', 'usb8023.sys', 'usbaudio2.sys', 'usbccgp.sys', 'usbcir.sys', 'usbd.sys', 'usbehci.sys', 'usbhub.sys', 'usbohci.sys', 'usbport.sys', 'usbprint.sys', 'usbser.sys', 'usbuhci.sys', 'usbvideo.sys', 'vdrvroot.sys', 'vfpext.sys', 'vhdmp.sys', 'vhdparser.sys', 'vhf.sys', 'videoprt.sys', 'vmbkmcl.sys', 'vmbkmclr.sys', 'vmbus.sys', 'vmbusproxy.sys', 'vmbusr.sys', 'vmgencounter.sys', 'vmgid.sys', 'vms3cap.sys', 'vmstorfl.sys', 'vmsvcext.sys', 'vmswitch.sys', 'volmgr.sys', 'volmgrx.sys', 'volsnap.sys', 'volume.sys', 'vpci.sys', 'vpcivsp.sys', 'vsmraid.sys', 'vwififlt.sys', 'wacompen.sys', 'wanarp.sys', 'watchdog.sys', 'wcifs.sys', 'werkernel.sys', 'wfplwfs.sys', 'wimmount.sys', 'winhv.sys', 'winhvr.sys', 'winmad.sys', 'winnat.sys', 'wintun.sys', 'winusb.sys', 'winverbs.sys', 'wmiacpi.sys', 'wmilib.sys', 'wof.sys', 'ws2ifsl.sys', 'wtd.sys', 'xboxgip.sys', 'xinputhid.sys', 'ztdns.sys']